# 登录跳转逻辑修复说明

## 问题描述

用户和机构登录后直接跳转到各自的中心页面，用户希望登录后默认跳转到系统主页面。

## 修复内容

### 修改文件
- **文件**: `src/pages/common/Login.vue`
- **修改**: 登录成功后的跳转逻辑

### 修改详情

#### 修改前
```javascript
// 根据角色跳转到不同的页面
let redirectPath = '/'
switch (selectedRole.value) {
    case 'organization':
        redirectPath = '/organization'  // 跳转到机构中心
        console.log('机构登录成功，跳转到机构仪表板')
        break
    case 'user':
    default:
        redirectPath = '/user'  // 跳转到用户中心
        console.log('用户登录成功，跳转到用户仪表板')
        break
}
```

#### 修改后
```javascript
// 根据角色跳转到不同的页面
let redirectPath = '/'
switch (selectedRole.value) {
    case 'organization':
        redirectPath = '/'  // 跳转到系统主页面
        console.log('机构登录成功，跳转到系统主页面')
        break
    case 'user':
    default:
        redirectPath = '/'  // 跳转到系统主页面
        console.log('用户登录成功，跳转到系统主页面')
        break
}
```

## 用户体验流程

### 用户登录流程
1. 访问 `http://localhost:3000/login`
2. 选择"普通用户"角色
3. 输入账号密码登录
4. **跳转到系统主页面** (`/`)
5. 右上角显示用户信息
6. 可以通过下拉菜单访问"用户中心"

### 机构登录流程
1. 访问 `http://localhost:3000/login`
2. 选择"帮扶机构"角色
3. 输入账号密码登录
4. **跳转到系统主页面** (`/`)
5. 右上角显示机构信息
6. 可以通过下拉菜单访问"机构中心"

## 功能对比

### 修改前
- 用户登录 → 用户中心 (`/user`)
- 机构登录 → 机构中心 (`/organization`)
- 需要手动返回主页面

### 修改后
- 用户登录 → 系统主页面 (`/`)
- 机构登录 → 系统主页面 (`/`)
- 可以直接浏览系统内容
- 通过右上角菜单访问各自中心

## 优势

### 1. 更好的用户体验
- 登录后直接看到系统主页面
- 可以浏览所有公开内容
- 不会被困在功能页面中

### 2. 更自然的导航流程
- 用户可以选择何时进入功能页面
- 提供更灵活的导航选择
- 符合用户的使用习惯

### 3. 统一的登录体验
- 所有用户类型都有一致的登录后体验
- 减少用户困惑
- 简化系统逻辑

## 测试步骤

### 1. 测试用户登录
1. 访问登录页面
2. 选择"普通用户"角色
3. 输入测试账号密码
4. 点击登录
5. 确认跳转到系统主页面
6. 确认右上角显示用户信息
7. 点击用户菜单，确认可以访问"用户中心"

### 2. 测试机构登录
1. 访问登录页面
2. 选择"帮扶机构"角色
3. 输入测试账号密码
4. 点击登录
5. 确认跳转到系统主页面
6. 确认右上角显示机构信息
7. 点击机构菜单，确认可以访问"机构中心"

## 预期行为

### 登录成功后的状态
- ✅ 跳转到系统主页面 (`http://localhost:3000/`)
- ✅ 保持登录状态
- ✅ 右上角显示用户/机构信息
- ✅ 可以通过下拉菜单访问各自中心
- ✅ 可以浏览系统所有公开内容

### 导航功能
- ✅ 用户可以通过右上角菜单访问"用户中心"
- ✅ 机构可以通过右上角菜单访问"机构中心"
- ✅ 所有页面都有"返回主页"功能
- ✅ 导航体验一致且流畅

## 更新日志

### v2.5.0 (当前版本)
- ✅ 修改用户登录跳转逻辑，登录后跳转到系统主页面
- ✅ 修改机构登录跳转逻辑，登录后跳转到系统主页面
- ✅ 统一所有用户的登录后体验
- ✅ 优化用户导航流程
- ✅ 提供更自然的系统使用体验

---

**童伴桥系统 - 登录跳转优化**
*让用户登录后直接体验系统主页面* 